<!-- 
    GUIA VISUAL - SISTEMA DE GERENCIAMENTO DE ADMINS
    ========================================================
    Este arquivo documenta visualmente as mudanças e como usar o novo sistema
-->

<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guia - Gerenciamento de Admins</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Rajdhani", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px 20px;
        min-height: 100vh;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }
      h1 {
        color: #667eea;
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 15px;
      }
      h2 {
        color: #764ba2;
        margin: 30px 0 15px 0;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
      }
      .section {
        margin-bottom: 30px;
      }
      .box {
        background: #f8fafc;
        border-left: 4px solid #667eea;
        padding: 20px;
        border-radius: 8px;
        margin: 15px 0;
      }
      .box.success {
        border-left-color: #10b981;
      }
      .box.warning {
        border-left-color: #f59e0b;
      }
      .box.info {
        border-left-color: #3b82f6;
      }
      code {
        background: #e2e8f0;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: "Courier New", monospace;
      }
      .steps {
        counter-reset: step;
        list-style: none;
      }
      .steps li {
        counter-increment: step;
        margin-bottom: 20px;
        padding-left: 40px;
        position: relative;
      }
      .steps li:before {
        content: counter(step);
        position: absolute;
        left: 0;
        top: 0;
        background: #667eea;
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }
      .file-structure {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        font-size: 13px;
        line-height: 1.6;
        overflow-x: auto;
      }
      .highlight {
        background: #fef3c7;
        padding: 2px 4px;
        border-radius: 3px;
        font-weight: 600;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }
      th,
      td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
      }
      th {
        background: #f8fafc;
        font-weight: 600;
        color: #667eea;
      }
      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 2px solid #e2e8f0;
        text-align: center;
        color: #64748b;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>👑 Gerenciamento de Administradores</h1>

      <div class="section">
        <div class="box success">
          <strong>✅ Sistema Implementado com Sucesso!</strong><br />
          Você pode agora gerenciar os IDs dos administradores sem editar o
          código.
        </div>
      </div>

      <!-- ======================================== -->
      <!-- COMO USAR -->
      <!-- ======================================== -->

      <h2>📖 Como Usar</h2>

      <ol class="steps">
        <li>
          <strong>Acesse a Área Administrativa</strong><br />
          Faça login com seu usuário admin (ID 23) e acesse
          <code>administrativa.php</code>
        </li>
        <li>
          <strong>Clique em "Gerenciar Admins"</strong><br />
          Um botão verde aparecerá no topo da página administrativa
        </li>
        <li>
          <strong>Use a Modal</strong><br />
          <ul style="margin-top: 10px">
            <li>
              📝 <strong>Adicionar:</strong> Digite um ID e clique "Adicionar"
            </li>
            <li>
              🗑️ <strong>Remover:</strong> Clique no botão "Remover" ao lado do
              ID
            </li>
          </ul>
        </li>
        <li>
          <strong>Pronto!</strong><br />
          As alterações são salvas automaticamente e usadas em todo o sistema
        </li>
      </ol>

      <!-- ======================================== -->
      <!-- ARQUIVOS CRIADOS -->
      <!-- ======================================== -->

      <h2>📁 Arquivos Criados/Modificados</h2>

      <table>
        <tr>
          <th>Arquivo</th>
          <th>Descrição</th>
          <th>Status</th>
        </tr>
        <tr>
          <td><code>admin-ids-config.php</code></td>
          <td>Classe que gerencia IDs (novo)</td>
          <td>✨ Novo</td>
        </tr>
        <tr>
          <td><code>dados/admin_ids.json</code></td>
          <td>Arquivo JSON que armazena os IDs</td>
          <td>✨ Novo</td>
        </tr>
        <tr>
          <td><code>administrativa.php</code></td>
          <td>Página admin + Modal de gerenciamento</td>
          <td>🔄 Modificado</td>
        </tr>
        <tr>
          <td><code>verificar-limite.php</code></td>
          <td>Atualizado para usar novo sistema</td>
          <td>🔄 Modificado</td>
        </tr>
      </table>

      <!-- ======================================== -->
      <!-- ESTRUTURA DE DADOS -->
      <!-- ======================================== -->

      <h2>💾 Estrutura de Dados</h2>

      <p><strong>Arquivo:</strong> <code>dados/admin_ids.json</code></p>

      <div class="file-structure">[ 23, 42, 15, 8 ]</div>

      <div class="box info">
        <strong>ℹ️ Nota:</strong> O arquivo é criado automaticamente na primeira
        vez que o sistema é usado. Os IDs padrão são 23 e 42.
      </div>

      <!-- ======================================== -->
      <!-- FUNCIONALIDADES -->
      <!-- ======================================== -->

      <h2>✨ Funcionalidades</h2>

      <div class="box success">
        <strong>✅ O que o sistema oferece:</strong>
        <ul style="margin-top: 10px">
          <li>✔️ Interface visual para adicionar IDs</li>
          <li>✔️ Remover IDs com confirmação</li>
          <li>✔️ Lista de todos os admins cadastrados</li>
          <li>✔️ Validação automática de IDs</li>
          <li>✔️ Proteção contra duplicatas</li>
          <li>✔️ Notificações visuais (toast)</li>
          <li>✔️ Apenas ID 23 pode gerenciar</li>
          <li>✔️ Alterações em tempo real</li>
        </ul>
      </div>

      <!-- ======================================== -->
      <!-- SEGURANÇA -->
      <!-- ======================================== -->

      <h2>🔒 Segurança</h2>

      <div class="box warning">
        <strong>⚠️ Medidas de Segurança Implementadas:</strong>
        <ul style="margin-top: 10px">
          <li>🔐 Apenas ID 23 (super-admin) pode modificar a lista</li>
          <li>🔐 Validação de IDs (números positivos apenas)</li>
          <li>🔐 Confirmação antes de remover IDs</li>
          <li>🔐 Proteção contra duplicatas</li>
          <li>🔐 Erro handling robusto</li>
        </ul>
      </div>

      <!-- ======================================== -->
      <!-- INTEGRAÇÃO -->
      <!-- ======================================== -->

      <h2>🔗 Integração com Sistema</h2>

      <p>O novo sistema é automaticamente integrado em:</p>

      <table>
        <tr>
          <th>Arquivo</th>
          <th>Função</th>
        </tr>
        <tr>
          <td><code>verificar-limite.php</code></td>
          <td>Controla limites de mentores/entradas para admins</td>
        </tr>
        <tr>
          <td><code>administrativa.php</code></td>
          <td>Verifica acesso à página administrativa</td>
        </tr>
        <tr>
          <td><code>qualquer outro arquivo</code></td>
          <td>Use <code>AdminIdManager::ehAdmin($id)</code> para verificar</td>
        </tr>
      </table>

      <!-- ======================================== -->
      <!-- EXEMPLOS DE USO -->
      <!-- ======================================== -->

      <h2>💡 Exemplos de Uso em PHP</h2>

      <p><strong>Verificar se um usuário é admin:</strong></p>
      <div class="file-structure">
        require_once 'admin-ids-config.php'; if
        (AdminIdManager::ehAdmin($id_usuario)) { echo "Usuário é
        administrador!"; }
      </div>

      <p style="margin-top: 20px">
        <strong>Obter lista de todos os admins:</strong>
      </p>
      <div class="file-structure">
        require_once 'admin-ids-config.php'; $ids_admin =
        AdminIdManager::obterAdminIds(); print_r($ids_admin);
      </div>

      <!-- ======================================== -->
      <!-- TROUBLESHOOTING -->
      <!-- ======================================== -->

      <h2>🆘 Solução de Problemas</h2>

      <h3>❓ Modal não abre</h3>
      <div class="box">
        ✓ Verifique se você está logado como admin (ID 23)<br />
        ✓ Verifique se o botão "Gerenciar Admins" está visível
      </div>

      <h3>❓ "Permissão negada"</h3>
      <div class="box">
        ✓ Apenas ID 23 pode gerenciar admins<br />
        ✓ Mude para uma conta com ID 23
      </div>

      <h3>❓ Erro ao adicionar ID</h3>
      <div class="box">
        ✓ Verifique se o diretório <code>dados/</code> existe<br />
        ✓ Verifique permissões de escrita da pasta<br />
        ✓ Verifique se o ID já não está cadastrado
      </div>

      <h3>❓ IDs não carregam</h3>
      <div class="box">
        ✓ Verifique se o arquivo <code>dados/admin_ids.json</code> existe<br />
        ✓ Verifique o console do navegador para erros AJAX
      </div>

      <!-- ======================================== -->
      <!-- FOOTER -->
      <!-- ======================================== -->

      <div class="footer">
        <strong>Sistema de Gerenciamento de Administradores</strong><br />
        Desenvolvido para facilitar a administração do sistema sem editar código
        🎉
      </div>
    </div>
  </body>
</html>
